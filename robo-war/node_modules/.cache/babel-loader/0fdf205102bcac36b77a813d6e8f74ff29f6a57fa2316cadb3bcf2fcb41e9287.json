{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Meenal Jain\\\\Desktop\\\\robo_war\\\\robo-war\\\\src\\\\pages\\\\gamePage.jsx\",\n  _s = $RefreshSig$();\n// import React, { useRef, useEffect, useState } from \"react\";\n// import spriteImage from \"../Images/background.png\";\n// import IdleImage from \"../Images/Idle1.png\";\n// import IdleImage1 from \"../Images/Idle2.png\";\n// import RunImage from \"../Images/Run.png\";\n// import RunImage1 from \"../Images/Run1.jpg\";\n\n// // import { Center, Flex, position } from '@chakra-ui/react';\n\n// const Canvas = (props) => {\n//   const canvasRef = useRef(null);\n//   let player;\n//   let enemy;\n//   let backgroundImage;\n//   let timer = 60;\n//   let timerId;\n//   const keys = {\n//     a: {\n//       pressed: false,\n//     },\n//     d: {\n//       pressed: false,\n//     },\n//     ArrowRight: {\n//       pressed: false,\n//     },\n//     ArrowLeft: {\n//       pressed: false,\n//     },\n//   };\n//   let lastkey = \"\"; // Initialize lastkey with an empty string\n\n//   function determineWinner({ player, enemy, timerId }) {\n//     clearTimeout(timerId);\n//     document.querySelector(\"#displayText\").style.display = \"flex\";\n//     if (player.health === enemy.health) {\n//       document.querySelector(\"#displayText\").innerHTML = \"Tie\";\n//     } else if (player.health > enemy.health) {\n//       document.querySelector(\"#displayText\").innerHTML = \"Player 1 Wins!!\";\n//     } else if (enemy.health > player.health) {\n//       document.querySelector(\"#displayText\").innerHTML = \"Player 2 Wins!!\";\n//     }\n//   }\n\n//   useEffect(() => {\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext(\"2d\");\n//     canvas.width = 1024;\n//     canvas.height = 576;\n\n//     backgroundImage = new Image();\n//     backgroundImage.src = spriteImage;\n\n//     player = new Fighter({\n//       position: { x: 50, y: 425 },\n//       velocity: { x: 0, y: 0 },\n//       offset: {\n//         x: 0,\n//         y: 0,\n//       },\n\n//       imageSrc: IdleImage,\n//       frameMax: 5,\n//       scale: 2.5,\n//       offset: {\n//         x: 215,\n//         y: 157,\n//       },\n//       sprites: {\n//         idle: {\n//           imageSrc: IdleImage,\n//           frameMax: 5,\n//         },\n//         run: {\n//           imageSrc: RunImage,\n//           frameMax: 5,\n//         },\n//       },\n//     });\n//     enemy = new Sprite({\n//       position: { x: 650, y: 425 },\n//       velocity: { x: 0, y: 0 },\n//       offset: {\n//         x: 0,\n//         y: 0,\n//       },\n\n//       imageSrc: IdleImage1,\n//       frameMax: 5,\n//       scale: 2.5,\n//       offset: {\n//         x: 215,\n//         y: 157,\n//       },\n//       sprites: {\n//         idle: {\n//           imageSrc: IdleImage1,\n//           frameMax: 5,\n//         },\n//         run: {\n//           imageSrc: RunImage1,\n//           frameMax: 5,\n//         },\n//       },\n//     });\n//     // const IdleImageFrameWidth = 284;\n//     // const IdleImageFrameHeight = 600;\n//     // const IdleImageTotalFrames = 5;\n//     // const IdleImageAnimationSpeed = 10;\n\n//     // enemy = new Fighter({\n//     //   position: { x: 650, y: 425 },\n//     //   velocity: { x: 0, y: 0 },\n//     //   offset: {\n//     //     x:50,\n//     //     y:0\n//     //   },\n//     //   color: 'blue'\n\n//     // });\n\n//     backgroundImage.onload = () => {\n//       // Draw the background image\n//       ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\n\n//       // Draw the initial sprites\n//       player.draw(ctx);\n//       enemy.draw(ctx);\n//     };\n\n//     // Event listeners\n//     window.addEventListener(\"keydown\", handleKeyDown);\n//     window.addEventListener(\"keyup\", handleKeyUp);\n\n//     function handleKeyDown(event) {\n//       switch (event.key) {\n//         case \"d\":\n//           keys.d.pressed = true;\n//           lastkey = \"d\";\n\n//           break;\n//         case \"a\":\n//           keys.a.pressed = true;\n//           lastkey = \"a\";\n//           break;\n//         case \" \":\n//           player.attack();\n//           break;\n//         case \"ArrowRight\":\n//           keys.ArrowRight.pressed = true;\n//           enemy.lastkey = \"ArrowRight\";\n//           break;\n//         case \"ArrowLeft\":\n//           keys.ArrowLeft.pressed = true;\n//           enemy.lastkey = \"ArrowLeft\";\n//           break;\n//         case \"ArrowDown\":\n//           enemy.isAttacking = true;\n//           break;\n//       }\n//     }\n\n//     function handleKeyUp(event) {\n//       switch (event.key) {\n//         case \"d\":\n//           keys.d.pressed = false;\n//           break;\n//         case \"a\":\n//           keys.a.pressed = false;\n//           break;\n//         case \"ArrowRight\":\n//           keys.ArrowRight.pressed = false;\n//           enemy.lastkey = \"ArrowRight\";\n//           break;\n//         case \"ArrowLeft\":\n//           keys.ArrowLeft.pressed = false;\n//           enemy.lastkey = \"ArrowLeft\";\n//           break;\n//       }\n//     }\n\n//     //   function decreaseTimer() {\n//     //     if (timer > 0) {\n//     //       setTimeout(() => {\n//     //         timer--;\n//     //         document.querySelector('#timer').innerHTML = timer;\n//     //         decreaseTimer(); // Call itself for the next second\n//     //       }, 1000);\n//     //     }\n\n//     //     if (timer === 0){\n//     //       determineWinner({ player, enemy });\n//     //   }\n//     // }\n//     function decreaseTimer() {\n//       if (timer > 0 && player.health > 0 && enemy.health > 0) {\n//         timerId = setTimeout(() => {\n//           timer--;\n//           document.querySelector(\"#timer\").innerHTML = timer;\n//           decreaseTimer(); // Call itself for the next second\n//         }, 1000);\n//       }\n\n//       if (player.health <= 0 || enemy.health <= 0) {\n//         determineWinner({ player, enemy, timerId });\n//       }\n//     }\n\n//     decreaseTimer(); // Start the countdown\n//   }, []);\n\n//   const gravity = 0.007;\n\n//   // class Sprite {\n//   //   constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 } }) {\n//   //     this.position = position;\n//   //     this.velocity = velocity;\n//   //     this.height = 150;\n//   //     this.width = 550;\n//   //     this.attackbox = {\n//   //       position: {\n//   //         x:this.position.x,\n//   //         y:this.position.y\n//   //       },\n//   //       offset,\n\n//   //       width: 100 ,\n//   //       height: 50\n//   //     }\n//   //     this.isAttacking = '';\n//   //     this.color = color;\n//   //     this.health = 100\n//   //   }\n\n//   //   draw(ctx) {\n//   //     ctx.fillStyle = this.color;\n//   //     ctx.fillRect(this.position.x, this.position.y, 50, this.height);\n//   //     //attack box\n//   //     if (this.isAttacking) {\n\n//   //     ctx.fillStyle = 'green';\n//   //     ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y , this.attackbox.width , this.attackbox.height)\n//   //   }\n//   // }\n\n//   //     update(ctx) {\n//   //       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\n//   //       this.attackbox.position.y = this.position.y;\n//   // this.animateFrames();\n//   //       this.position.x += this.velocity.x;\n//   //       this.position.y += this.velocity.y;\n//   //       if (this.position.y + this.height >= ctx.height) {\n//   //         this.velocity.y = 0;\n//   //         this.position.y = ctx.height - this.height;\n//   //       } else {\n//   //         this.velocity.y += gravity;\n//   //       }\n//   //     }\n//   //     attack() {\n//   //       this.isAttacking = true\n//   //       setTimeout(() => {\n//   //         this.isAttacking = false\n//   //       }, 100\n//   //       );\n\n//   //     }\n//   //   }\n\n//   class Fighter {\n//     constructor({\n//       position,\n//       velocity,\n//       color = \"red\",\n//       offset = { x: 0, y: 0 },\n//       imageSrc,\n//       scale = 5,\n//       frameMax = 1,\n//       sprites,\n//     }) {\n//       this.position = position;\n//       this.velocity = velocity;\n//       this.height = 250;\n//       this.width = 200;\n//       this.image = new Image();\n//       this.image.src = IdleImage;\n\n//       this.scale = scale;\n//       this.frameMax = frameMax;\n//       this.framesCurrent = 5;\n//       this.frameElapsed = 0;\n//       this.framesHold = 1;\n//       this.sprites = sprites;\n//       for (const sprite in this.sprites) {\n//         sprites[sprite].image = new Image();\n//         sprites[sprite].image.src = sprites[sprite].imageSrc;\n//       }\n//       this.attackbox = {\n//         position: {\n//           x: this.position.x,\n//           y: this.position.y,\n//         },\n//         offset,\n\n//         width: 150,\n//         height: 10,\n//       };\n//       this.isAttacking = \"\";\n//       this.color = color;\n//       this.health = 100;\n//     }\n\n//     draw(ctx) {\n//       if (this.image.complete) {\n//         ctx.drawImage(\n//           this.image,\n//           this.position.x,\n//           this.position.y,\n//           this.width,\n//           this.height\n//         );\n//       }\n//       // ctx.fillStyle = this.color;\n//       // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\n//       //attack box\n//       if (this.isAttacking) {\n//         ctx.fillStyle = \"green\";\n//         ctx.fillRect(\n//           this.attackbox.position.x,\n//           this.attackbox.position.y,\n//           this.attackbox.width,\n//           this.attackbox.height\n//         );\n//       }\n//     }\n//     animateFrames() {\n//       this.frameElapsed++;\n//       if (this.frameElapsed % this.framesHold === 0) {\n//         if (this.framesCurrent < this.frameMax - 1) {\n//           this.framesCurrent++;\n//         } else {\n//           this.framesCurrent = 0;\n//         }\n//       }\n//     }\n\n//     update(ctx) {\n//       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\n//       this.attackbox.position.y = this.position.y;\n\n//       this.animateFrames();\n\n//       this.position.x += this.velocity.x;\n//       this.position.y += this.velocity.y;\n//       if (this.position.y + this.height >= ctx.height) {\n//         this.velocity.y = 0;\n//         this.position.y = ctx.height - this.height;\n//       } else {\n//         this.velocity.y += gravity;\n//       }\n//     }\n//     attack() {\n//       this.isAttacking = true;\n//       setTimeout(() => {\n//         this.isAttacking = false;\n//       }, 100);\n//     }\n//   }\n//   class Sprite {\n//     constructor({\n//       position,\n//       velocity,\n//       color = \"red\",\n//       offset = { x: 0, y: 0 },\n//       imageSrc,\n//       scale = 5,\n//       frameMax = 1,\n//       sprites,\n//     }) {\n//       this.position = position;\n//       this.velocity = velocity;\n//       this.height = 250;\n//       this.width = 200;\n//       this.image1 = new Image();\n//       this.image1.src = IdleImage1;\n//       this.scale = scale;\n//       this.frameMax = frameMax;\n//       this.framesCurrent = 5;\n//       this.frameElapsed = 0;\n//       this.framesHold = 1;\n//       this.sprites = sprites;\n//       for (const sprite in this.sprites) {\n//         sprites[sprite].image = new Image();\n//         sprites[sprite].image.src = sprites[sprite].imageSrc;\n//       }\n\n//       this.attackbox = {\n//         position: {\n//           x: this.position.x,\n//           y: this.position.y,\n//         },\n//         offset,\n\n//         width: 150,\n//         height: 10,\n//       };\n//       this.isAttacking = \"\";\n//       this.color = color;\n//       this.health = 100;\n//     }\n\n//     draw(ctx) {\n//       if (this.image1.complete) {\n//         ctx.drawImage(\n//           this.image1,\n//           this.position.x,\n//           this.position.y,\n//           this.width,\n//           this.height\n//         );\n//       }\n//       // ctx.fillStyle = this.color;\n//       // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\n//       //attack box\n//       if (this.isAttacking) {\n//         ctx.fillStyle = \"green\";\n//         ctx.fillRect(\n//           this.attackbox.position.x,\n//           this.attackbox.position.y,\n//           this.attackbox.width,\n//           this.attackbox.height\n//         );\n//       }\n//     }\n//     animateFrames() {\n//       this.frameElapsed++;\n//       if (this.frameElapsed % this.framesHold === 0) {\n//         if (this.framesCurrent < this.frameMax - 1) {\n//           this.framesCurrent++;\n//         } else {\n//           this.framesCurrent = 0;\n//         }\n//       }\n//     }\n\n//     update(ctx) {\n//       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\n//       this.attackbox.position.y = this.position.y;\n//       this.animateFrames();\n\n//       this.position.x += this.velocity.x;\n//       this.position.y += this.velocity.y;\n//       if (this.position.y + this.height >= ctx.height) {\n//         this.velocity.y = 0;\n//         this.position.y = ctx.height - this.height;\n//       } else {\n//         this.velocity.y += gravity;\n//       }\n//     }\n//     attack() {\n//       this.isAttacking = true;\n//       setTimeout(() => {\n//         this.isAttacking = false;\n//       }, 100);\n//     }\n//   }\n\n//   function rectangularCollision({ rectangle1, rectangle2 }) {\n//     return (\n//       rectangle1.attackbox.position.x + rectangle1.attackbox.width >=\n//         rectangle2.position.x &&\n//       rectangle1.attackbox.position.x <=\n//         rectangle2.position.x + rectangle2.width &&\n//       rectangle1.attackbox.position.y + rectangle1.attackbox.height >=\n//         rectangle2.position.y &&\n//       rectangle1.attackbox.position.y <=\n//         rectangle2.position.y + rectangle2.height\n//     );\n//   }\n\n//   function animate() {\n//     const canvas = canvasRef.current;\n\n//     if (canvas && player && enemy) {\n//       const ctx = canvas.getContext(\"2d\");\n\n//       // Clear the canvas\n//       ctx.fillStyle = \"black\";\n//       ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n//       // Draw the background image\n//       ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\n\n//       // Update and draw the sprites\n//       player.update(canvas);\n//       player.draw(ctx);\n\n//       enemy.update(canvas);\n//       enemy.draw(ctx);\n\n//       player.velocity.x = 0;\n//       enemy.velocity.x = 0;\n\n//       player.image = player.sprites.idle.image;\n//       if (keys.a.pressed && lastkey === \"a\") {\n//         player.velocity.x = -5;\n//         player.image = player.sprites.run.image;\n//       } else if (keys.d.pressed && lastkey === \"d\") {\n//         player.velocity.x = 5;\n//         player.image = player.sprites.run.image;\n//       }\n//       enemy.image = enemy.sprites.idle.image;\n//       if (keys.ArrowLeft.pressed && enemy.lastkey === \"ArrowLeft\") {\n//         enemy.velocity.x = -5;\n//         enemy.image = enemy.sprites.run.image;\n//       } else if (keys.ArrowRight.pressed && enemy.lastkey === \"ArrowRight\") {\n//         enemy.velocity.x = 5;\n//         enemy.image = enemy.sprites.run.image;\n//       }\n//       // detect for collision\n//       if (\n//         rectangularCollision({\n//           rectangle1: player,\n//           rectangle2: enemy,\n//         }) &&\n//         player.isAttacking\n//       ) {\n//         player.isAttacking = false;\n//         enemy.health -= 20;\n//         document.querySelector(\"#enemyHealth\").style.width = enemy.health + \"%\";\n//         console.log(\"go\");\n//       }\n\n//       if (\n//         rectangularCollision({\n//           rectangle1: enemy,\n//           rectangle2: player,\n//         }) &&\n//         enemy.isAttacking\n//       ) {\n//         enemy.isAttacking = false;\n//         player.health -= 20;\n//         document.querySelector(\"#playerHealth\").style.width =\n//           player.health + \"%\";\n//         console.log(\"enemy attack successful\");\n//       }\n\n//       // end game based on health\n//       if (player.health <= 0 || player.health <= 0) {\n//         determineWinner({ player, enemy, timerId });\n//       }\n//     }\n\n//     window.requestAnimationFrame(animate);\n//   }\n\n//   useEffect(() => {\n//     animate(); // Start the animation loop after the initial render\n//   }, []);\n\n//   return (\n//     <div style={{ position: \"relative\", display: \"inline-block\" }}>\n//       <div\n//         style={{\n//           position: \"absolute\",\n//           display: \"flex\",\n//           width: \"100%\",\n//           alignItems: \"center\",\n//           padding: \"20px\",\n//         }}\n//       >\n//         {/* Player Health Bar */}\n//         <div\n//           style={{\n//             position: \"relative\",\n//             height: \"30px\",\n//             width: \"100%\",\n//             display: \"flex\",\n//             justifyContent: \"flex-end\",\n//           }}\n//         >\n//           <div\n//             style={{ backgroundColor: \"blue\", height: \"30px\", width: \"100%\" }}\n//           ></div>\n//           <div\n//             id=\"playerHealth\"\n//             style={{\n//               position: \"absolute\",\n//               background: \"lightblue\",\n//               top: 0,\n//               right: 0,\n//               bottom: 0,\n//               width: \"100%\",\n//             }}\n//           ></div>\n//         </div>\n\n//         {/* Timer */}\n//         <div\n//           id=\"timer\"\n//           style={{\n//             backgroundColor: \"yellow\",\n//             width: \"100px\",\n//             height: \"100px\",\n//             flexShrink: 0,\n//             display: \"flex\",\n//             alignItems: \"center\",\n//             justifyContent: \"center\",\n//           }}\n//         >\n//           {timer}\n//         </div>\n\n//         {/* Enemy Health Bar */}\n//         <div style={{ position: \"relative\", height: \"30px\", width: \"100%\" }}>\n//           <div style={{ backgroundColor: \"blue\", height: \"30px\" }}></div>\n//           <div\n//             id=\"enemyHealth\"\n//             style={{\n//               position: \"absolute\",\n//               background: \"lightblue\",\n//               top: 0,\n//               right: 0,\n//               bottom: 0,\n//               left: 0,\n//             }}\n//           ></div>\n//         </div>\n//         <div></div>\n//       </div>\n//       <div\n//         id=\"displayText\"\n//         style={{\n//           position: \"absolute\",\n//           color: \"yellow\",\n//           alignItems: \"center\",\n//           justifyContent: \"center\",\n//           top: 0,\n//           right: 0,\n//           bottom: 0,\n//           left: 0,\n//           display: \"none\",\n//         }}\n//       >\n//         Tie\n//       </div>\n//       <canvas ref={canvasRef} style={{ boxSizing: \"border-box\" }} {...props} />\n//       {/* <script src=\"classes.js\"></script> */}\n//     </div>\n//   );\n// };\n\n// export default Canvas;\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport spriteImage from '../Images/background.png';\nimport IdleImage from \"../Images/Idle1.png\";\nimport IdleImage1 from \"../Images/Idle2.png\";\nimport RunImage from \"../Images/Run.png\";\nimport RunImage1 from \"../Images/Run1.jpg\";\nimport { Center, Flex, position } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = props => {\n  _s();\n  const canvasRef = useRef(null);\n  let player;\n  let enemy;\n  let backgroundImage;\n  let timer = 60;\n  let timerId;\n  const keys = {\n    a: {\n      pressed: false\n    },\n    d: {\n      pressed: false\n    },\n    ArrowRight: {\n      pressed: false\n    },\n    ArrowLeft: {\n      pressed: false\n    }\n  };\n  let lastkey = ''; // Initialize lastkey with an empty string\n\n  function determineWinner({\n    player,\n    enemy,\n    timerId\n  }) {\n    clearTimeout(timerId);\n    document.querySelector('#displayText').style.display = 'flex';\n    if (player.health === enemy.health) {\n      document.querySelector('#displayText').innerHTML = 'Tie';\n    } else if (player.health > enemy.health) {\n      document.querySelector('#displayText').innerHTML = 'Player 1 Wins!!';\n    } else if (enemy.health > player.health) {\n      document.querySelector('#displayText').innerHTML = 'Player 2 Wins!!';\n    }\n  }\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = 1024;\n    canvas.height = 576;\n    backgroundImage = new Image();\n    backgroundImage.src = spriteImage;\n    player = new Sprite({\n      position: {\n        x: 150,\n        y: 425\n      },\n      velocity: {\n        x: 0,\n        y: 0\n      },\n      offset: {\n        x: 0,\n        y: 0\n      },\n      sprites: {\n        idle: {\n          imageSrc: IdleImage,\n          frameMax: 5\n        },\n        run: {\n          imageSrc: RunImage,\n          frameMax: 5\n        }\n      }\n    });\n    enemy = new Sprite({\n      position: {\n        x: 450,\n        y: 425\n      },\n      velocity: {\n        x: 0,\n        y: 0\n      },\n      offset: {\n        x: 50,\n        y: 0\n      },\n      color: 'blue'\n    });\n    backgroundImage.onload = () => {\n      // Draw the background image\n      ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\n\n      // Draw the initial sprites\n      player.draw(ctx);\n      enemy.draw(ctx);\n    };\n\n    // Event listeners\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    function handleKeyDown(event) {\n      switch (event.key) {\n        case 'd':\n          keys.d.pressed = true;\n          lastkey = 'd';\n          break;\n        case 'a':\n          keys.a.pressed = true;\n          lastkey = 'a';\n          break;\n        case ' ':\n          player.attack();\n          break;\n        case 'ArrowRight':\n          keys.ArrowRight.pressed = true;\n          enemy.lastkey = 'ArrowRight';\n          break;\n        case 'ArrowLeft':\n          keys.ArrowLeft.pressed = true;\n          enemy.lastkey = 'ArrowLeft';\n          break;\n        case 'ArrowDown':\n          enemy.isAttacking = true;\n          break;\n      }\n    }\n    function handleKeyUp(event) {\n      switch (event.key) {\n        case 'd':\n          keys.d.pressed = false;\n          break;\n        case 'a':\n          keys.a.pressed = false;\n          break;\n        case 'ArrowRight':\n          keys.ArrowRight.pressed = false;\n          enemy.lastkey = 'ArrowRight';\n          break;\n        case 'ArrowLeft':\n          keys.ArrowLeft.pressed = false;\n          enemy.lastkey = 'ArrowLeft';\n          break;\n      }\n    }\n\n    //   function decreaseTimer() {\n    //     if (timer > 0) {\n    //       setTimeout(() => {\n    //         timer--;\n    //         document.querySelector('#timer').innerHTML = timer;\n    //         decreaseTimer(); // Call itself for the next second\n    //       }, 1000);\n    //     }\n\n    //     if (timer === 0){\n    //       determineWinner({ player, enemy });\n    //   }\n    // }\n    function decreaseTimer() {\n      if (timer > 0 && player.health > 0 && enemy.health > 0) {\n        timerId = setTimeout(() => {\n          timer--;\n          document.querySelector('#timer').innerHTML = timer;\n          decreaseTimer(); // Call itself for the next second\n        }, 1000);\n      }\n      if (player.health <= 0 || enemy.health <= 0) {\n        determineWinner({\n          player,\n          enemy,\n          timerId\n        });\n      }\n    }\n    decreaseTimer(); // Start the countdown\n  }, []);\n  const gravity = 0.007;\n\n  // class Sprite {\n  //   constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 } }) {\n  //     this.position = position;\n  //     this.velocity = velocity;\n  //     this.height = 150;\n  //     this.width = 50;\n  //     this.attackbox = {\n  //       position: {\n  //         x:this.position.x,\n  //         y:this.position.y\n  //       },\n  //       offset,\n\n  //       width: 100 ,\n  //       height: 50\n  //     }\n  //     this.isAttacking = '';\n  //     this.color = color;\n  //     this.health = 100\n  //   }\n  class Fighter {\n    constructor({\n      position,\n      velocity,\n      color = 'red',\n      offset = {\n        x: 0,\n        y: 0\n      },\n      imageSrc,\n      scale = 5,\n      frameMax = 1,\n      sprites\n    }) {\n      this.position = position;\n      this.velocity = velocity;\n      this.height = 250;\n      this.width = 200;\n      this.image = new Image();\n      this.image.src = IdleImage;\n      this.scale = scale;\n      this.frameMax = frameMax;\n      this.framesCurrent = 5;\n      this.frameElapsed = 0;\n      this.framesHold = 1;\n      this.sprites = sprites;\n      for (const sprite in this.sprites) {\n        sprites[sprite].image = new Image();\n        sprites[sprite].image.src = sprites[sprite].imageSrc;\n      }\n      this.attackbox = {\n        position: {\n          x: this.position.x,\n          y: this.position.y\n        },\n        offset,\n        width: 150,\n        height: 10\n      };\n      this.isAttacking = '';\n      this.color = color;\n      this.health = 100;\n    }\n    draw(ctx) {\n      ctx.fillStyle = this.color;\n      ctx.fillRect(this.position.x, this.position.y, 50, this.height);\n      //attack box\n      if (this.isAttacking) {\n        ctx.fillStyle = 'green';\n        ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y, this.attackbox.width, this.attackbox.height);\n      }\n    }\n    update(ctx) {\n      this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\n      this.attackbox.position.y = this.position.y;\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n      if (this.position.y + this.height >= ctx.height) {\n        this.velocity.y = 0;\n        this.position.y = ctx.height - this.height;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n    attack() {\n      this.isAttacking = true;\n      setTimeout(() => {\n        this.isAttacking = false;\n      }, 100);\n    }\n  }\n  class Sprite {\n    constructor({\n      position,\n      velocity,\n      color = 'red',\n      offset = {\n        x: 0,\n        y: 0\n      },\n      imageSrc,\n      scale = 5,\n      frameMax = 1\n    }) {\n      this.position = position;\n      this.velocity = velocity;\n      this.height = 250;\n      this.width = 200;\n      this.image1 = new Image();\n      this.image1.src = IdleImage1;\n      this.scale = scale;\n      this.frameMax = frameMax;\n      this.framesCurrent = 5;\n      this.frameElapsed = 0;\n      this.framesHold = 1;\n      // this.sprites = sprites;\n      // for( const sprite in this.sprites) {\n      //  sprites[sprite].image = new Image();\n      //  sprites[sprite].image.src = sprites[sprite].imageSrc;\n      // }\n\n      this.attackbox = {\n        position: {\n          x: this.position.x,\n          y: this.position.y\n        },\n        offset,\n        width: 150,\n        height: 10\n      };\n      this.isAttacking = '';\n      this.color = color;\n      this.health = 100;\n    }\n    draw(ctx) {\n      if (this.image1.complete) {\n        ctx.drawImage(this.image1, this.position.x, this.position.y, this.width, this.height);\n      }\n      // ctx.fillStyle = this.color;\n      // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\n      //attack box\n      if (this.isAttacking) {\n        ctx.fillStyle = 'green';\n        ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y, this.attackbox.width, this.attackbox.height);\n      }\n    }\n    animateFrames() {\n      this.frameElapsed++;\n      if (this.frameElapsed % this.framesHold === 0) {\n        if (this.framesCurrent < this.framesMax - 1) {\n          this.framesCurrent++;\n        } else {\n          this.framesCurrent = 0;\n        }\n      }\n    }\n    update(ctx) {\n      this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\n      this.attackbox.position.y = this.position.y;\n      this.animateFrames();\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n      if (this.position.y + this.height >= ctx.height) {\n        this.velocity.y = 0;\n        this.position.y = ctx.height - this.height;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n    attack() {\n      this.isAttacking = true;\n      setTimeout(() => {\n        this.isAttacking = false;\n      }, 100);\n    }\n  }\n  function rectangularCollision({\n    rectangle1,\n    rectangle2\n  }) {\n    return rectangle1.attackbox.position.x + rectangle1.attackbox.width >= rectangle2.position.x && rectangle1.attackbox.position.x <= rectangle2.position.x + rectangle2.width && rectangle1.attackbox.position.y + rectangle1.attackbox.height >= rectangle2.position.y && rectangle1.attackbox.position.y <= rectangle2.position.y + rectangle2.height;\n  }\n  function animate() {\n    const canvas = canvasRef.current;\n    if (canvas && player && enemy) {\n      const ctx = canvas.getContext('2d');\n\n      // Clear the canvas\n      ctx.fillStyle = 'black';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw the background image\n      ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\n\n      // Update and draw the sprites\n      player.update(canvas);\n      player.draw(ctx);\n      enemy.update(canvas);\n      enemy.draw(ctx);\n      player.velocity.x = 0;\n      enemy.velocity.x = 0;\n      if (keys.a.pressed && lastkey === 'a') {\n        player.velocity.x = -5;\n      } else if (keys.d.pressed && lastkey === 'd') {\n        player.velocity.x = 5;\n      }\n      if (keys.ArrowLeft.pressed && enemy.lastkey === 'ArrowLeft') {\n        enemy.velocity.x = -5;\n      } else if (keys.ArrowRight.pressed && enemy.lastkey === 'ArrowRight') {\n        enemy.velocity.x = 5;\n      }\n      // detect for collision\n      if (rectangularCollision({\n        rectangle1: player,\n        rectangle2: enemy\n      }) && player.isAttacking) {\n        player.isAttacking = false;\n        enemy.health -= 20;\n        document.querySelector('#enemyHealth').style.width = enemy.health + '%';\n        console.log('go');\n      }\n      if (rectangularCollision({\n        rectangle1: enemy,\n        rectangle2: player\n      }) && enemy.isAttacking) {\n        enemy.isAttacking = false;\n        player.health -= 20;\n        document.querySelector('#playerHealth').style.width = player.health + '%';\n        console.log('enemy attack successful');\n      }\n\n      // end game based on health\n      if (player.health <= 0 || player.health <= 0) {\n        determineWinner({\n          player,\n          enemy,\n          timerId\n        });\n      }\n    }\n    window.requestAnimationFrame(animate);\n  }\n  useEffect(() => {\n    animate(); // Start the animation loop after the initial render\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'inline-block'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        display: 'flex',\n        width: '100%',\n        alignItems: 'center',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          height: '30px',\n          width: '100%',\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'yellow',\n            height: '30px',\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1099,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"playerHealth\",\n          style: {\n            position: 'absolute',\n            background: 'blue',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1098,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"timer\",\n        style: {\n          backgroundColor: 'red',\n          width: '100px',\n          height: '100px',\n          flexShrink: 0,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: timer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          height: '30px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'yellow',\n            height: '30px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1131,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"enemyHealth\",\n          style: {\n            position: 'absolute',\n            background: 'blue',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1130,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1144,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1088,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"displayText\",\n      style: {\n        position: 'absolute',\n        color: 'black',\n        alignItems: 'center',\n        justifyContent: 'center',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: 'none'\n      },\n      children: \"Tie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        boxSizing: 'border-box'\n      },\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1160,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1087,\n    columnNumber: 3\n  }, this);\n};\n_s(Canvas, \"1O11hef6JMAr7xpSnL0aZ5Ib60Q=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","spriteImage","IdleImage","IdleImage1","RunImage","RunImage1","Center","Flex","position","jsxDEV","_jsxDEV","Canvas","props","_s","canvasRef","player","enemy","backgroundImage","timer","timerId","keys","a","pressed","d","ArrowRight","ArrowLeft","lastkey","determineWinner","clearTimeout","document","querySelector","style","display","health","innerHTML","canvas","current","ctx","getContext","width","height","Image","src","Sprite","x","y","velocity","offset","sprites","idle","imageSrc","frameMax","run","color","onload","drawImage","draw","window","addEventListener","handleKeyDown","handleKeyUp","event","key","attack","isAttacking","decreaseTimer","setTimeout","gravity","Fighter","constructor","scale","image","framesCurrent","frameElapsed","framesHold","sprite","attackbox","fillStyle","fillRect","update","image1","complete","animateFrames","framesMax","rectangularCollision","rectangle1","rectangle2","animate","console","log","requestAnimationFrame","children","alignItems","padding","justifyContent","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","id","background","top","right","bottom","flexShrink","left","ref","boxSizing","_c","$RefreshReg$"],"sources":["C:/Users/Meenal Jain/Desktop/robo_war/robo-war/src/pages/gamePage.jsx"],"sourcesContent":["// import React, { useRef, useEffect, useState } from \"react\";\r\n// import spriteImage from \"../Images/background.png\";\r\n// import IdleImage from \"../Images/Idle1.png\";\r\n// import IdleImage1 from \"../Images/Idle2.png\";\r\n// import RunImage from \"../Images/Run.png\";\r\n// import RunImage1 from \"../Images/Run1.jpg\";\r\n\r\n// // import { Center, Flex, position } from '@chakra-ui/react';\r\n\r\n// const Canvas = (props) => {\r\n//   const canvasRef = useRef(null);\r\n//   let player;\r\n//   let enemy;\r\n//   let backgroundImage;\r\n//   let timer = 60;\r\n//   let timerId;\r\n//   const keys = {\r\n//     a: {\r\n//       pressed: false,\r\n//     },\r\n//     d: {\r\n//       pressed: false,\r\n//     },\r\n//     ArrowRight: {\r\n//       pressed: false,\r\n//     },\r\n//     ArrowLeft: {\r\n//       pressed: false,\r\n//     },\r\n//   };\r\n//   let lastkey = \"\"; // Initialize lastkey with an empty string\r\n\r\n//   function determineWinner({ player, enemy, timerId }) {\r\n//     clearTimeout(timerId);\r\n//     document.querySelector(\"#displayText\").style.display = \"flex\";\r\n//     if (player.health === enemy.health) {\r\n//       document.querySelector(\"#displayText\").innerHTML = \"Tie\";\r\n//     } else if (player.health > enemy.health) {\r\n//       document.querySelector(\"#displayText\").innerHTML = \"Player 1 Wins!!\";\r\n//     } else if (enemy.health > player.health) {\r\n//       document.querySelector(\"#displayText\").innerHTML = \"Player 2 Wins!!\";\r\n//     }\r\n//   }\r\n\r\n//   useEffect(() => {\r\n//     const canvas = canvasRef.current;\r\n//     const ctx = canvas.getContext(\"2d\");\r\n//     canvas.width = 1024;\r\n//     canvas.height = 576;\r\n\r\n//     backgroundImage = new Image();\r\n//     backgroundImage.src = spriteImage;\r\n\r\n//     player = new Fighter({\r\n//       position: { x: 50, y: 425 },\r\n//       velocity: { x: 0, y: 0 },\r\n//       offset: {\r\n//         x: 0,\r\n//         y: 0,\r\n//       },\r\n\r\n//       imageSrc: IdleImage,\r\n//       frameMax: 5,\r\n//       scale: 2.5,\r\n//       offset: {\r\n//         x: 215,\r\n//         y: 157,\r\n//       },\r\n//       sprites: {\r\n//         idle: {\r\n//           imageSrc: IdleImage,\r\n//           frameMax: 5,\r\n//         },\r\n//         run: {\r\n//           imageSrc: RunImage,\r\n//           frameMax: 5,\r\n//         },\r\n//       },\r\n//     });\r\n//     enemy = new Sprite({\r\n//       position: { x: 650, y: 425 },\r\n//       velocity: { x: 0, y: 0 },\r\n//       offset: {\r\n//         x: 0,\r\n//         y: 0,\r\n//       },\r\n\r\n//       imageSrc: IdleImage1,\r\n//       frameMax: 5,\r\n//       scale: 2.5,\r\n//       offset: {\r\n//         x: 215,\r\n//         y: 157,\r\n//       },\r\n//       sprites: {\r\n//         idle: {\r\n//           imageSrc: IdleImage1,\r\n//           frameMax: 5,\r\n//         },\r\n//         run: {\r\n//           imageSrc: RunImage1,\r\n//           frameMax: 5,\r\n//         },\r\n//       },\r\n//     });\r\n//     // const IdleImageFrameWidth = 284;\r\n//     // const IdleImageFrameHeight = 600;\r\n//     // const IdleImageTotalFrames = 5;\r\n//     // const IdleImageAnimationSpeed = 10;\r\n\r\n//     // enemy = new Fighter({\r\n//     //   position: { x: 650, y: 425 },\r\n//     //   velocity: { x: 0, y: 0 },\r\n//     //   offset: {\r\n//     //     x:50,\r\n//     //     y:0\r\n//     //   },\r\n//     //   color: 'blue'\r\n\r\n//     // });\r\n\r\n//     backgroundImage.onload = () => {\r\n//       // Draw the background image\r\n//       ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\r\n\r\n//       // Draw the initial sprites\r\n//       player.draw(ctx);\r\n//       enemy.draw(ctx);\r\n//     };\r\n\r\n//     // Event listeners\r\n//     window.addEventListener(\"keydown\", handleKeyDown);\r\n//     window.addEventListener(\"keyup\", handleKeyUp);\r\n\r\n//     function handleKeyDown(event) {\r\n//       switch (event.key) {\r\n//         case \"d\":\r\n//           keys.d.pressed = true;\r\n//           lastkey = \"d\";\r\n\r\n//           break;\r\n//         case \"a\":\r\n//           keys.a.pressed = true;\r\n//           lastkey = \"a\";\r\n//           break;\r\n//         case \" \":\r\n//           player.attack();\r\n//           break;\r\n//         case \"ArrowRight\":\r\n//           keys.ArrowRight.pressed = true;\r\n//           enemy.lastkey = \"ArrowRight\";\r\n//           break;\r\n//         case \"ArrowLeft\":\r\n//           keys.ArrowLeft.pressed = true;\r\n//           enemy.lastkey = \"ArrowLeft\";\r\n//           break;\r\n//         case \"ArrowDown\":\r\n//           enemy.isAttacking = true;\r\n//           break;\r\n//       }\r\n//     }\r\n\r\n//     function handleKeyUp(event) {\r\n//       switch (event.key) {\r\n//         case \"d\":\r\n//           keys.d.pressed = false;\r\n//           break;\r\n//         case \"a\":\r\n//           keys.a.pressed = false;\r\n//           break;\r\n//         case \"ArrowRight\":\r\n//           keys.ArrowRight.pressed = false;\r\n//           enemy.lastkey = \"ArrowRight\";\r\n//           break;\r\n//         case \"ArrowLeft\":\r\n//           keys.ArrowLeft.pressed = false;\r\n//           enemy.lastkey = \"ArrowLeft\";\r\n//           break;\r\n//       }\r\n//     }\r\n\r\n//     //   function decreaseTimer() {\r\n//     //     if (timer > 0) {\r\n//     //       setTimeout(() => {\r\n//     //         timer--;\r\n//     //         document.querySelector('#timer').innerHTML = timer;\r\n//     //         decreaseTimer(); // Call itself for the next second\r\n//     //       }, 1000);\r\n//     //     }\r\n\r\n//     //     if (timer === 0){\r\n//     //       determineWinner({ player, enemy });\r\n//     //   }\r\n//     // }\r\n//     function decreaseTimer() {\r\n//       if (timer > 0 && player.health > 0 && enemy.health > 0) {\r\n//         timerId = setTimeout(() => {\r\n//           timer--;\r\n//           document.querySelector(\"#timer\").innerHTML = timer;\r\n//           decreaseTimer(); // Call itself for the next second\r\n//         }, 1000);\r\n//       }\r\n\r\n//       if (player.health <= 0 || enemy.health <= 0) {\r\n//         determineWinner({ player, enemy, timerId });\r\n//       }\r\n//     }\r\n\r\n//     decreaseTimer(); // Start the countdown\r\n//   }, []);\r\n\r\n//   const gravity = 0.007;\r\n\r\n//   // class Sprite {\r\n//   //   constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 } }) {\r\n//   //     this.position = position;\r\n//   //     this.velocity = velocity;\r\n//   //     this.height = 150;\r\n//   //     this.width = 550;\r\n//   //     this.attackbox = {\r\n//   //       position: {\r\n//   //         x:this.position.x,\r\n//   //         y:this.position.y\r\n//   //       },\r\n//   //       offset,\r\n\r\n//   //       width: 100 ,\r\n//   //       height: 50\r\n//   //     }\r\n//   //     this.isAttacking = '';\r\n//   //     this.color = color;\r\n//   //     this.health = 100\r\n//   //   }\r\n\r\n//   //   draw(ctx) {\r\n//   //     ctx.fillStyle = this.color;\r\n//   //     ctx.fillRect(this.position.x, this.position.y, 50, this.height);\r\n//   //     //attack box\r\n//   //     if (this.isAttacking) {\r\n\r\n//   //     ctx.fillStyle = 'green';\r\n//   //     ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y , this.attackbox.width , this.attackbox.height)\r\n//   //   }\r\n//   // }\r\n\r\n//   //     update(ctx) {\r\n//   //       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\r\n//   //       this.attackbox.position.y = this.position.y;\r\n//   // this.animateFrames();\r\n//   //       this.position.x += this.velocity.x;\r\n//   //       this.position.y += this.velocity.y;\r\n//   //       if (this.position.y + this.height >= ctx.height) {\r\n//   //         this.velocity.y = 0;\r\n//   //         this.position.y = ctx.height - this.height;\r\n//   //       } else {\r\n//   //         this.velocity.y += gravity;\r\n//   //       }\r\n//   //     }\r\n//   //     attack() {\r\n//   //       this.isAttacking = true\r\n//   //       setTimeout(() => {\r\n//   //         this.isAttacking = false\r\n//   //       }, 100\r\n//   //       );\r\n\r\n//   //     }\r\n//   //   }\r\n\r\n//   class Fighter {\r\n//     constructor({\r\n//       position,\r\n//       velocity,\r\n//       color = \"red\",\r\n//       offset = { x: 0, y: 0 },\r\n//       imageSrc,\r\n//       scale = 5,\r\n//       frameMax = 1,\r\n//       sprites,\r\n//     }) {\r\n//       this.position = position;\r\n//       this.velocity = velocity;\r\n//       this.height = 250;\r\n//       this.width = 200;\r\n//       this.image = new Image();\r\n//       this.image.src = IdleImage;\r\n\r\n//       this.scale = scale;\r\n//       this.frameMax = frameMax;\r\n//       this.framesCurrent = 5;\r\n//       this.frameElapsed = 0;\r\n//       this.framesHold = 1;\r\n//       this.sprites = sprites;\r\n//       for (const sprite in this.sprites) {\r\n//         sprites[sprite].image = new Image();\r\n//         sprites[sprite].image.src = sprites[sprite].imageSrc;\r\n//       }\r\n//       this.attackbox = {\r\n//         position: {\r\n//           x: this.position.x,\r\n//           y: this.position.y,\r\n//         },\r\n//         offset,\r\n\r\n//         width: 150,\r\n//         height: 10,\r\n//       };\r\n//       this.isAttacking = \"\";\r\n//       this.color = color;\r\n//       this.health = 100;\r\n//     }\r\n\r\n//     draw(ctx) {\r\n//       if (this.image.complete) {\r\n//         ctx.drawImage(\r\n//           this.image,\r\n//           this.position.x,\r\n//           this.position.y,\r\n//           this.width,\r\n//           this.height\r\n//         );\r\n//       }\r\n//       // ctx.fillStyle = this.color;\r\n//       // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\r\n//       //attack box\r\n//       if (this.isAttacking) {\r\n//         ctx.fillStyle = \"green\";\r\n//         ctx.fillRect(\r\n//           this.attackbox.position.x,\r\n//           this.attackbox.position.y,\r\n//           this.attackbox.width,\r\n//           this.attackbox.height\r\n//         );\r\n//       }\r\n//     }\r\n//     animateFrames() {\r\n//       this.frameElapsed++;\r\n//       if (this.frameElapsed % this.framesHold === 0) {\r\n//         if (this.framesCurrent < this.frameMax - 1) {\r\n//           this.framesCurrent++;\r\n//         } else {\r\n//           this.framesCurrent = 0;\r\n//         }\r\n//       }\r\n//     }\r\n\r\n//     update(ctx) {\r\n//       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\r\n//       this.attackbox.position.y = this.position.y;\r\n\r\n//       this.animateFrames();\r\n\r\n//       this.position.x += this.velocity.x;\r\n//       this.position.y += this.velocity.y;\r\n//       if (this.position.y + this.height >= ctx.height) {\r\n//         this.velocity.y = 0;\r\n//         this.position.y = ctx.height - this.height;\r\n//       } else {\r\n//         this.velocity.y += gravity;\r\n//       }\r\n//     }\r\n//     attack() {\r\n//       this.isAttacking = true;\r\n//       setTimeout(() => {\r\n//         this.isAttacking = false;\r\n//       }, 100);\r\n//     }\r\n//   }\r\n//   class Sprite {\r\n//     constructor({\r\n//       position,\r\n//       velocity,\r\n//       color = \"red\",\r\n//       offset = { x: 0, y: 0 },\r\n//       imageSrc,\r\n//       scale = 5,\r\n//       frameMax = 1,\r\n//       sprites,\r\n//     }) {\r\n//       this.position = position;\r\n//       this.velocity = velocity;\r\n//       this.height = 250;\r\n//       this.width = 200;\r\n//       this.image1 = new Image();\r\n//       this.image1.src = IdleImage1;\r\n//       this.scale = scale;\r\n//       this.frameMax = frameMax;\r\n//       this.framesCurrent = 5;\r\n//       this.frameElapsed = 0;\r\n//       this.framesHold = 1;\r\n//       this.sprites = sprites;\r\n//       for (const sprite in this.sprites) {\r\n//         sprites[sprite].image = new Image();\r\n//         sprites[sprite].image.src = sprites[sprite].imageSrc;\r\n//       }\r\n\r\n//       this.attackbox = {\r\n//         position: {\r\n//           x: this.position.x,\r\n//           y: this.position.y,\r\n//         },\r\n//         offset,\r\n\r\n//         width: 150,\r\n//         height: 10,\r\n//       };\r\n//       this.isAttacking = \"\";\r\n//       this.color = color;\r\n//       this.health = 100;\r\n//     }\r\n\r\n//     draw(ctx) {\r\n//       if (this.image1.complete) {\r\n//         ctx.drawImage(\r\n//           this.image1,\r\n//           this.position.x,\r\n//           this.position.y,\r\n//           this.width,\r\n//           this.height\r\n//         );\r\n//       }\r\n//       // ctx.fillStyle = this.color;\r\n//       // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\r\n//       //attack box\r\n//       if (this.isAttacking) {\r\n//         ctx.fillStyle = \"green\";\r\n//         ctx.fillRect(\r\n//           this.attackbox.position.x,\r\n//           this.attackbox.position.y,\r\n//           this.attackbox.width,\r\n//           this.attackbox.height\r\n//         );\r\n//       }\r\n//     }\r\n//     animateFrames() {\r\n//       this.frameElapsed++;\r\n//       if (this.frameElapsed % this.framesHold === 0) {\r\n//         if (this.framesCurrent < this.frameMax - 1) {\r\n//           this.framesCurrent++;\r\n//         } else {\r\n//           this.framesCurrent = 0;\r\n//         }\r\n//       }\r\n//     }\r\n\r\n//     update(ctx) {\r\n//       this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\r\n//       this.attackbox.position.y = this.position.y;\r\n//       this.animateFrames();\r\n\r\n//       this.position.x += this.velocity.x;\r\n//       this.position.y += this.velocity.y;\r\n//       if (this.position.y + this.height >= ctx.height) {\r\n//         this.velocity.y = 0;\r\n//         this.position.y = ctx.height - this.height;\r\n//       } else {\r\n//         this.velocity.y += gravity;\r\n//       }\r\n//     }\r\n//     attack() {\r\n//       this.isAttacking = true;\r\n//       setTimeout(() => {\r\n//         this.isAttacking = false;\r\n//       }, 100);\r\n//     }\r\n//   }\r\n\r\n//   function rectangularCollision({ rectangle1, rectangle2 }) {\r\n//     return (\r\n//       rectangle1.attackbox.position.x + rectangle1.attackbox.width >=\r\n//         rectangle2.position.x &&\r\n//       rectangle1.attackbox.position.x <=\r\n//         rectangle2.position.x + rectangle2.width &&\r\n//       rectangle1.attackbox.position.y + rectangle1.attackbox.height >=\r\n//         rectangle2.position.y &&\r\n//       rectangle1.attackbox.position.y <=\r\n//         rectangle2.position.y + rectangle2.height\r\n//     );\r\n//   }\r\n\r\n//   function animate() {\r\n//     const canvas = canvasRef.current;\r\n\r\n//     if (canvas && player && enemy) {\r\n//       const ctx = canvas.getContext(\"2d\");\r\n\r\n//       // Clear the canvas\r\n//       ctx.fillStyle = \"black\";\r\n//       ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n//       // Draw the background image\r\n//       ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\r\n\r\n//       // Update and draw the sprites\r\n//       player.update(canvas);\r\n//       player.draw(ctx);\r\n\r\n//       enemy.update(canvas);\r\n//       enemy.draw(ctx);\r\n\r\n//       player.velocity.x = 0;\r\n//       enemy.velocity.x = 0;\r\n\r\n//       player.image = player.sprites.idle.image;\r\n//       if (keys.a.pressed && lastkey === \"a\") {\r\n//         player.velocity.x = -5;\r\n//         player.image = player.sprites.run.image;\r\n//       } else if (keys.d.pressed && lastkey === \"d\") {\r\n//         player.velocity.x = 5;\r\n//         player.image = player.sprites.run.image;\r\n//       }\r\n//       enemy.image = enemy.sprites.idle.image;\r\n//       if (keys.ArrowLeft.pressed && enemy.lastkey === \"ArrowLeft\") {\r\n//         enemy.velocity.x = -5;\r\n//         enemy.image = enemy.sprites.run.image;\r\n//       } else if (keys.ArrowRight.pressed && enemy.lastkey === \"ArrowRight\") {\r\n//         enemy.velocity.x = 5;\r\n//         enemy.image = enemy.sprites.run.image;\r\n//       }\r\n//       // detect for collision\r\n//       if (\r\n//         rectangularCollision({\r\n//           rectangle1: player,\r\n//           rectangle2: enemy,\r\n//         }) &&\r\n//         player.isAttacking\r\n//       ) {\r\n//         player.isAttacking = false;\r\n//         enemy.health -= 20;\r\n//         document.querySelector(\"#enemyHealth\").style.width = enemy.health + \"%\";\r\n//         console.log(\"go\");\r\n//       }\r\n\r\n//       if (\r\n//         rectangularCollision({\r\n//           rectangle1: enemy,\r\n//           rectangle2: player,\r\n//         }) &&\r\n//         enemy.isAttacking\r\n//       ) {\r\n//         enemy.isAttacking = false;\r\n//         player.health -= 20;\r\n//         document.querySelector(\"#playerHealth\").style.width =\r\n//           player.health + \"%\";\r\n//         console.log(\"enemy attack successful\");\r\n//       }\r\n\r\n//       // end game based on health\r\n//       if (player.health <= 0 || player.health <= 0) {\r\n//         determineWinner({ player, enemy, timerId });\r\n//       }\r\n//     }\r\n\r\n//     window.requestAnimationFrame(animate);\r\n//   }\r\n\r\n//   useEffect(() => {\r\n//     animate(); // Start the animation loop after the initial render\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div style={{ position: \"relative\", display: \"inline-block\" }}>\r\n//       <div\r\n//         style={{\r\n//           position: \"absolute\",\r\n//           display: \"flex\",\r\n//           width: \"100%\",\r\n//           alignItems: \"center\",\r\n//           padding: \"20px\",\r\n//         }}\r\n//       >\r\n//         {/* Player Health Bar */}\r\n//         <div\r\n//           style={{\r\n//             position: \"relative\",\r\n//             height: \"30px\",\r\n//             width: \"100%\",\r\n//             display: \"flex\",\r\n//             justifyContent: \"flex-end\",\r\n//           }}\r\n//         >\r\n//           <div\r\n//             style={{ backgroundColor: \"blue\", height: \"30px\", width: \"100%\" }}\r\n//           ></div>\r\n//           <div\r\n//             id=\"playerHealth\"\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               background: \"lightblue\",\r\n//               top: 0,\r\n//               right: 0,\r\n//               bottom: 0,\r\n//               width: \"100%\",\r\n//             }}\r\n//           ></div>\r\n//         </div>\r\n\r\n//         {/* Timer */}\r\n//         <div\r\n//           id=\"timer\"\r\n//           style={{\r\n//             backgroundColor: \"yellow\",\r\n//             width: \"100px\",\r\n//             height: \"100px\",\r\n//             flexShrink: 0,\r\n//             display: \"flex\",\r\n//             alignItems: \"center\",\r\n//             justifyContent: \"center\",\r\n//           }}\r\n//         >\r\n//           {timer}\r\n//         </div>\r\n\r\n//         {/* Enemy Health Bar */}\r\n//         <div style={{ position: \"relative\", height: \"30px\", width: \"100%\" }}>\r\n//           <div style={{ backgroundColor: \"blue\", height: \"30px\" }}></div>\r\n//           <div\r\n//             id=\"enemyHealth\"\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               background: \"lightblue\",\r\n//               top: 0,\r\n//               right: 0,\r\n//               bottom: 0,\r\n//               left: 0,\r\n//             }}\r\n//           ></div>\r\n//         </div>\r\n//         <div></div>\r\n//       </div>\r\n//       <div\r\n//         id=\"displayText\"\r\n//         style={{\r\n//           position: \"absolute\",\r\n//           color: \"yellow\",\r\n//           alignItems: \"center\",\r\n//           justifyContent: \"center\",\r\n//           top: 0,\r\n//           right: 0,\r\n//           bottom: 0,\r\n//           left: 0,\r\n//           display: \"none\",\r\n//         }}\r\n//       >\r\n//         Tie\r\n//       </div>\r\n//       <canvas ref={canvasRef} style={{ boxSizing: \"border-box\" }} {...props} />\r\n//       {/* <script src=\"classes.js\"></script> */}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Canvas;\r\n\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport spriteImage from '../Images/background.png';\r\nimport IdleImage from \"../Images/Idle1.png\";\r\nimport IdleImage1 from \"../Images/Idle2.png\";\r\nimport RunImage from \"../Images/Run.png\";\r\nimport RunImage1 from \"../Images/Run1.jpg\";\r\nimport { Center, Flex, position } from '@chakra-ui/react';\r\n\r\nconst Canvas = (props) => {\r\n  const canvasRef = useRef(null);\r\n  let player;\r\n  let enemy;\r\n  let backgroundImage;\r\n  let timer = 60;\r\n  let timerId;\r\n  const keys = {\r\n    a: {\r\n      pressed: false,\r\n    },\r\n    d: {\r\n      pressed: false,\r\n    },\r\n    ArrowRight: {\r\n      pressed: false,\r\n    },\r\n    ArrowLeft: {\r\n      pressed: false,\r\n    },\r\n  };\r\n  let lastkey = ''; // Initialize lastkey with an empty string\r\n\r\n  function determineWinner({ player, enemy, timerId }){\r\n    clearTimeout(timerId);\r\n    document.querySelector('#displayText').style.display = 'flex';\r\n      if (player.health === enemy.health){\r\n        document.querySelector('#displayText').innerHTML = 'Tie';\r\n      }\r\n      else if(player.health > enemy.health){\r\n        document.querySelector('#displayText').innerHTML = 'Player 1 Wins!!';\r\n      }\r\n      else if(enemy.health > player.health){\r\n        document.querySelector('#displayText').innerHTML = 'Player 2 Wins!!';\r\n      }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    canvas.width = 1024;\r\n    canvas.height = 576;\r\n\r\n    backgroundImage = new Image();\r\n    backgroundImage.src = spriteImage;\r\n\r\n    player = new Sprite({\r\n      position: { x: 150, y: 425 },\r\n      velocity: { x: 0, y: 0 },\r\n      offset: {\r\n        x:0,\r\n        y: 0\r\n      },\r\n      sprites: {\r\n        idle: {\r\n          imageSrc: IdleImage,\r\n      frameMax: 5,\r\n\r\n        },\r\n        run: {\r\n          imageSrc: RunImage,\r\n          frameMax: 5,\r\n        },\r\n      },\r\n    });\r\n\r\n    enemy = new Sprite({\r\n      position: { x: 450, y: 425 },\r\n      velocity: { x: 0, y: 0 },\r\n      offset: {\r\n        x:50,\r\n        y:0\r\n      },\r\n      color: 'blue'\r\n\r\n    });\r\n\r\n    backgroundImage.onload = () => {\r\n      // Draw the background image\r\n      ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\r\n\r\n      // Draw the initial sprites\r\n      player.draw(ctx);\r\n      enemy.draw(ctx);\r\n    };\r\n\r\n    // Event listeners\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n\r\n    function handleKeyDown(event) {\r\n      switch (event.key) {\r\n        case 'd':\r\n          keys.d.pressed = true;\r\n          lastkey = 'd';\r\n          break;\r\n        case 'a':\r\n          keys.a.pressed = true;\r\n          lastkey = 'a';\r\n          break;\r\n          case ' ':\r\n            player.attack()  \r\n            break;\r\n        case 'ArrowRight':\r\n          keys.ArrowRight.pressed = true;\r\n          enemy.lastkey = 'ArrowRight';\r\n          break;\r\n          case 'ArrowLeft':\r\n          keys.ArrowLeft.pressed = true;\r\n          enemy.lastkey = 'ArrowLeft';\r\n          break;\r\n          case 'ArrowDown':\r\n            enemy.isAttacking = true;\r\n            break\r\n      }\r\n    }\r\n\r\n    function handleKeyUp(event) {\r\n      switch (event.key) {\r\n        case 'd':\r\n          keys.d.pressed = false;\r\n          break;\r\n        case 'a':\r\n          keys.a.pressed = false;\r\n          break;\r\n        case 'ArrowRight':\r\n          keys.ArrowRight.pressed = false;\r\n          enemy.lastkey = 'ArrowRight';\r\n          break;\r\n          case 'ArrowLeft':\r\n          keys.ArrowLeft.pressed = false;\r\n          enemy.lastkey = 'ArrowLeft';\r\n          break;\r\n      }\r\n    }\r\n\r\n    \r\n    \r\n  //   function decreaseTimer() {\r\n  //     if (timer > 0) {\r\n  //       setTimeout(() => {\r\n  //         timer--;\r\n  //         document.querySelector('#timer').innerHTML = timer;\r\n  //         decreaseTimer(); // Call itself for the next second\r\n  //       }, 1000);\r\n  //     }\r\n      \r\n  //     if (timer === 0){\r\n  //       determineWinner({ player, enemy });\r\n  //   }\r\n  // }\r\n  function decreaseTimer() {\r\n    if (timer > 0 && player.health > 0 && enemy.health > 0) {\r\n      timerId = setTimeout(() => {\r\n        timer--;\r\n        document.querySelector('#timer').innerHTML = timer;\r\n        decreaseTimer(); // Call itself for the next second\r\n      }, 1000);\r\n    }\r\n  \r\n    if (player.health <= 0 || enemy.health <= 0) {\r\n      determineWinner({ player, enemy, timerId });\r\n    }\r\n  }\r\n  \r\n    decreaseTimer(); // Start the countdown\r\n\r\n  }, []);\r\n\r\n  const gravity = 0.007;\r\n\r\n  // class Sprite {\r\n  //   constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 } }) {\r\n  //     this.position = position;\r\n  //     this.velocity = velocity;\r\n  //     this.height = 150;\r\n  //     this.width = 50;\r\n  //     this.attackbox = {\r\n  //       position: {\r\n  //         x:this.position.x,\r\n  //         y:this.position.y\r\n  //       },\r\n  //       offset,\r\n        \r\n  //       width: 100 ,\r\n  //       height: 50\r\n  //     }\r\n  //     this.isAttacking = '';\r\n  //     this.color = color;\r\n  //     this.health = 100\r\n  //   }\r\n  class Fighter {\r\n    constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 }, imageSrc, scale = 5, frameMax = 1, sprites}) {\r\n      this.position = position;\r\n      this.velocity = velocity;\r\n      this.height = 250;\r\n      this.width = 200;\r\n      this.image = new Image();\r\n      this.image.src =  IdleImage;\r\n     \r\n      this.scale = scale;\r\n      this.frameMax = frameMax;\r\n      this.framesCurrent = 5;\r\n      this.frameElapsed = 0;\r\n      this.framesHold = 1;\r\n     this.sprites = sprites;\r\n     for( const sprite in this.sprites) {\r\n      sprites[sprite].image = new Image();\r\n      sprites[sprite].image.src = sprites[sprite].imageSrc;\r\n     }\r\n      this.attackbox = {\r\n        position: {\r\n          x:this.position.x,\r\n          y:this.position.y\r\n        },\r\n        offset,\r\n        \r\n        width: 150 ,\r\n        height: 10\r\n      }\r\n      this.isAttacking = '';\r\n      this.color = color;\r\n      this.health = 100\r\n    }\r\n    draw(ctx) {\r\n      ctx.fillStyle = this.color;\r\n      ctx.fillRect(this.position.x, this.position.y, 50, this.height);\r\n      //attack box\r\n      if (this.isAttacking) {\r\n\r\n      \r\n      ctx.fillStyle = 'green';\r\n      ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y , this.attackbox.width , this.attackbox.height)\r\n    }\r\n  }\r\n\r\n    update(ctx) {\r\n      this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\r\n      this.attackbox.position.y = this.position.y;\r\n\r\n      this.position.x += this.velocity.x;\r\n      this.position.y += this.velocity.y;\r\n      if (this.position.y + this.height >= ctx.height) {\r\n        this.velocity.y = 0;\r\n        this.position.y = ctx.height - this.height;\r\n      } else {\r\n        this.velocity.y += gravity;\r\n      }\r\n    }\r\n      attack() {\r\n        this.isAttacking = true\r\n        setTimeout(() => {\r\n          this.isAttacking = false\r\n        }, 100);\r\n      }\r\n    }\r\n    class Sprite {\r\n      constructor({ position, velocity,color = 'red', offset= { x: 0, y: 0 }, imageSrc, scale = 5, frameMax = 1 }) {\r\n        this.position = position;\r\n        this.velocity = velocity;\r\n        this.height = 250;\r\n        this.width = 200;\r\n        this.image1 = new Image();\r\n        this.image1.src =  IdleImage1;\r\n        this.scale = scale;\r\n        this.frameMax = frameMax;\r\n        this.framesCurrent = 5;\r\n        this.frameElapsed = 0;\r\n        this.framesHold = 1;\r\n        // this.sprites = sprites;\r\n        // for( const sprite in this.sprites) {\r\n        //  sprites[sprite].image = new Image();\r\n        //  sprites[sprite].image.src = sprites[sprite].imageSrc;\r\n        // }\r\n       \r\n        this.attackbox = {\r\n          position: {\r\n            x:this.position.x,\r\n            y:this.position.y\r\n          },\r\n          offset,\r\n          \r\n          width: 150 ,\r\n          height: 10\r\n        }\r\n        this.isAttacking = '';\r\n        this.color = color;\r\n        this.health = 100\r\n      }\r\n  \r\n      draw(ctx) {\r\n        if (this.image1.complete) {\r\n          ctx.drawImage(this.image1, this.position.x, this.position.y, this.width, this.height);\r\n        }\r\n        // ctx.fillStyle = this.color;\r\n        // ctx.fillRect(this.position.x, this.position.y, 50, this.height);\r\n        //attack box\r\n        if (this.isAttacking) {\r\n  \r\n        \r\n        ctx.fillStyle = 'green';\r\n        ctx.fillRect(this.attackbox.position.x, this.attackbox.position.y , this.attackbox.width , this.attackbox.height)\r\n      }\r\n    }\r\n    animateFrames() {\r\n      this.frameElapsed++;\r\n  if (this.frameElapsed % this.framesHold === 0) {\r\n    if (this.framesCurrent < this.framesMax - 1) {\r\n      this.framesCurrent++\r\n    }\r\n    else {\r\n      this.framesCurrent = 0\r\n    }\r\n  }\r\n    }\r\n  \r\n      update(ctx) {\r\n        this.attackbox.position.x = this.position.x - this.attackbox.offset.x;\r\n        this.attackbox.position.y = this.position.y;\r\n  this.animateFrames();\r\n    \r\n        this.position.x += this.velocity.x;\r\n        this.position.y += this.velocity.y;\r\n        if (this.position.y + this.height >= ctx.height) {\r\n          this.velocity.y = 0;\r\n          this.position.y = ctx.height - this.height;\r\n        } else {\r\n          this.velocity.y += gravity;\r\n        }\r\n      }\r\n        attack() {\r\n          this.isAttacking = true\r\n          setTimeout(() => {\r\n            this.isAttacking = false\r\n          }, 100\r\n          );\r\n          \r\n        \r\n      }\r\n    }\r\n  \r\n  function rectangularCollision({rectangle1, rectangle2}) {\r\n    return (\r\n      rectangle1.attackbox.position.x + rectangle1.attackbox.width >= \r\n      rectangle2.position.x && rectangle1.attackbox.position.x <= rectangle2.position.x + rectangle2.width &&\r\n        rectangle1.attackbox.position.y + rectangle1.attackbox.height >= rectangle2.position.y\r\n        && rectangle1.attackbox.position.y <= rectangle2.position.y + rectangle2.height\r\n\r\n    );\r\n  }\r\n \r\n\r\n  function animate() {\r\n    const canvas = canvasRef.current;\r\n\r\n     if (canvas && player && enemy) {\r\n      const ctx = canvas.getContext('2d');\r\n\r\n      // Clear the canvas\r\n      ctx.fillStyle = 'black';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Draw the background image\r\n      ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\r\n\r\n      // Update and draw the sprites\r\n      player.update(canvas);\r\n      player.draw(ctx);\r\n\r\n      enemy.update(canvas);\r\n      enemy.draw(ctx);\r\n\r\n      player.velocity.x = 0;\r\n      enemy.velocity.x = 0;\r\n\r\n\r\n      if (keys.a.pressed && lastkey === 'a') {\r\n        player.velocity.x = -5;\r\n      } else if (keys.d.pressed && lastkey === 'd') {\r\n        player.velocity.x = 5;\r\n      }\r\n      if (keys.ArrowLeft.pressed && enemy.lastkey === 'ArrowLeft') {\r\n        enemy.velocity.x = -5;\r\n      } else if (keys.ArrowRight.pressed && enemy.lastkey === 'ArrowRight') {\r\n        enemy.velocity.x = 5;\r\n      }\r\n      // detect for collision\r\n      if (rectangularCollision({\r\n        rectangle1: player,\r\n        rectangle2: enemy\r\n      }) &&\r\n        player.isAttacking) {\r\n          player.isAttacking = false\r\n          enemy.health -= 20\r\n        document.querySelector('#enemyHealth').style.width = enemy.health + '%'\r\n        console.log('go');\r\n      }\r\n      \r\n      if (rectangularCollision({\r\n        rectangle1: enemy,\r\n        rectangle2: player\r\n      }) &&\r\n        enemy.isAttacking) {\r\n          enemy.isAttacking = false\r\n          player.health -= 20\r\n            document.querySelector('#playerHealth').style.width = player.health + '%'\r\n        console.log('enemy attack successful');\r\n      }\r\n    \r\n      // end game based on health\r\n      if(player.health <= 0 || player.health <=0) {\r\n        determineWinner({ player, enemy, timerId });\r\n      }\r\n    \r\n    }\r\n    \r\n    window.requestAnimationFrame(animate);\r\n  }\r\n\r\n  useEffect(() => {\r\n    animate(); // Start the animation loop after the initial render\r\n  }, []);\r\n\r\n\r\nreturn (\r\n  <div style={{ position: 'relative', display: 'inline-block' }}>\r\n    <div\r\n      style={{\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n      }}\r\n    >\r\n      {/* Player Health Bar */}\r\n      <div style={{ position: 'relative', height: '30px', width: '100%', display: 'flex', justifyContent: 'flex-end' }}>\r\n        <div style={{ backgroundColor: 'yellow', height: '30px', width: '100%' }}></div>\r\n        <div\r\n          id=\"playerHealth\"\r\n          style={{\r\n            position: 'absolute',\r\n            background: 'blue',\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            width: '100%',\r\n          }}\r\n        ></div>\r\n      </div>\r\n\r\n      {/* Timer */}\r\n      <div\r\n      id = \"timer\"\r\n       style={{ \r\n        backgroundColor: 'red', \r\n        width: '100px', \r\n        height: '100px', \r\n        flexShrink: 0,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        }}\r\n      >\r\n        {timer}\r\n      </div>\r\n\r\n      {/* Enemy Health Bar */}\r\n      <div style={{ position: 'relative', height: '30px', width: '100%' }}>\r\n        <div style={{ backgroundColor: 'yellow', height: '30px' }}></div>\r\n        <div\r\n          id=\"enemyHealth\"\r\n          style={{\r\n            position: 'absolute',\r\n            background: 'blue',\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n    <div\r\n    id=\"displayText\"\r\n     style={{\r\n      position: 'absolute', \r\n      color: 'black',\r\n      alignItems: 'center', \r\n      justifyContent:'center',\r\n      top: 0,\r\n      right : 0,\r\n      bottom : 0,\r\n      left: 0,\r\n      display: 'none'\r\n      }}>Tie\r\n      </div>\r\n    <canvas ref={canvasRef} style={{ boxSizing: 'border-box' }} {...props} />\r\n  </div>\r\n);\r\n};\r\n\r\nexport default Canvas;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,MAAM,EAAEC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,MAAM,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACxB,MAAMC,SAAS,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAC9B,IAAIiB,MAAM;EACV,IAAIC,KAAK;EACT,IAAIC,eAAe;EACnB,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIC,OAAO;EACX,MAAMC,IAAI,GAAG;IACXC,CAAC,EAAE;MACDC,OAAO,EAAE;IACX,CAAC;IACDC,CAAC,EAAE;MACDD,OAAO,EAAE;IAC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"},"metadata":{},"sourceType":"module","externalDependencies":[]}